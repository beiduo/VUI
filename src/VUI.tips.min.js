VUI.tips=function(e,t){var n,r=[],i=[],s=[],o=[];if(typeof t!="object")var t={};typeof e=="string"?o=VUI.q(e):e.innerHTML?o[0]=e:o=e;for(var u=0;u<o.length;u++){r[u]=objectPlus(VUI.tips.defaults,t),r[u].element=o[u],s[u]=o[u].getAttribute("j_tips").split("|");for(n=0;n<s[u].length;n++){i[u]=s[u][n].split(":");if(i[u][0]==="followMouse")r[u].followMouse=!0;else if(i[u].length===1&&i[u][0]!=="")r[u].content=i[u][0];else switch(i[u][0]){case"title":r[u].title=i[u][1];break;case"content":r[u].content=i[u][1];break;case"placement":r[u].placement=i[u][1];break;case"width":r[u].width=i[u][1];break;case"fontSize":r[u].fontSize=i[u][1]}}if(typeof r[u].content!="string"||r[u].content==="")return!1;r[u].tipid="vui-tips-"+VUI.getId(),r[u].create(o[u])}},VUI.tips.defaults={width:"auto",followMouse:!1,placement:"s",tpl:function(){var e='<div class="vui-tips-cntr"></div>';return e},create:function(){var e;if(!document.getElementById(this.tipid)){var t=document.createElement("div");t.id=this.tipid,t.className="vui-tips"+(this.placement?" vui-tips-"+this.placement:"")+(this.skin?" vui-tips-"+this.skin:""),t.style.display="none",t.innerHTML=this.tpl(),e=document.body.appendChild(t)}else e=document.getElementById(this.tipid);return this.node=e,this.setContent().setCss().events(),this},setContent:function(e){var t=VUI.q("div.vui-tips-cntr",this.node)[0];return typeof this.title=="string"&&this.title!==""?t.innerHTML='<div class="vui-tips-title">'+this.title+'</div><div class="vui-tips-content">'+this.content+"</div>":t.innerHTML=this.content,this},setCss:function(){typeof this.fontSize=="string"&&(this.node.style.fontSize=this.fontSize||"12px"),this.node.style.width=this.width||"auto";var e=0,t=0;if(this.placement==="s")var e=getFullWidth(this.element)/2-getFullWidth(this.node)/2+getElementLeft(this.element),t=getFullHeight(this.element)+getElementTop(this.element)+5;if(this.placement==="n")var e=getFullWidth(this.element)/2-getFullWidth(this.node)/2+getElementLeft(this.element),t=getElementTop(this.element)-getFullHeight(this.node)-5;if(this.placement==="w")var e=getElementLeft(this.element)-getFullWidth(this.node)-5,t=getFullHeight(this.element)/2-getFullHeight(this.node)/2+getElementTop(this.element);if(this.placement==="e")var e=getElementLeft(this.element)+getFullWidth(this.element)+5,t=getFullHeight(this.element)/2-getFullHeight(this.node)/2+getElementTop(this.element);return this.node.style.left=e+"px",this.node.style.top=t+"px",this},show:function(){this.followMouse&&(this.node.style.left=this.posx+5+"px",this.node.style.top=this.posy+5+"px"),this.node.style.display="block"},hide:function(){this.node.style.display="none"},events:function(){var e=this;addEvent(this.element,"mouseout",function(t){var n=t||window.event;isMouseLeaveOrEnter(n,this)&&e.hide()}),this.followMouse?addEvent(this.element,"mousemove",function(t){var n=t||window.event;e.posx=0,e.posy=0;if(n.pageX||n.pageY)e.posx=n.pageX,e.posy=n.pageY;else if(n.clientX||n.clientY)e.posx=n.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,e.posy=n.clientY+document.documentElement.scrollTop+document.body.scrollTop;e.show()}):addEvent(this.element,"mouseover",function(t){var n=t||window.event;isMouseLeaveOrEnter(n,this)&&e.show()})}}